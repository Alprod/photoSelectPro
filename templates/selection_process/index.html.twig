{% extends 'base.html.twig' %}

{% block title %}{{ parent() ~ '|' ~ title }}{% endblock %}
{% block header %}
	{% include 'includes/header/_header.html.twig' %}
{% endblock %}
{% block body %}
<section class="relative max-w-7xl mx-auto bg-white px-6 py-8 iphone:py-4 xs:py-6 md:py-8 lg:py-14 min-h-screen">
	<h1 class="h2 my-10">{{ title }}</h1>
	<div class="p-0 lg:p-6">
		<a href="{{ path('app_user', {'id': app.user.id}) }}" class="btn-primary mx-0 my-14 max-w-xs">Retour profile</a>
		
		<h3 class="h6">Theme du parcour de séléction : {{ theme[0].name }}</h3>
		<p class="fonts-size my-10">
			<span class="font-bold block underline">Description: </span>
			{{ theme[0].description }}
		</p>
		
		<div class="mx-auto mt-10 grid max-w-2xl grid-cols-2 gap-x-8 gap-y-16 pt-10 sm:mt-10 sm:pt-10 lg:mx-0 lg:max-w-none lg:grid-cols-4">
			{% for group in theme[0].groups|sort %}
				<article class="flex max-w-xl flex-col items-start justify-between border p-4 border-gray-200 rounded-md">
					<div class="flex items-center gap-x-4 text-xs">
						{% if is_granted('ROLE_CLIENT') %}
							<a href="{{path('app_update_group', { process: parcour.id, group: group.id })}}"
							   class="relative z-10 py-1.5 font-medium text-green-400 hover:text-green-600">
								<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
									<path stroke-linecap="round" stroke-linejoin="round" d="m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10" />
								</svg>
							</a>
							<div class="flex-none">
								{% include 'includes/form/deletedForm.html.twig' with {
									routeName:'app_delete_group',
									idItem: group.id,
									deletItem : 'deleted_group'
								}
								%}
							</div>
						{% endif %}
					</div>
					<div class="group relative">
						<h3 class="mt-3 text-xl font-bold leading-6 text-gray-900 group-hover:text-gray-600">
							<span class="absolute inset-0"></span>
							{{ group.name }}
						</h3>
						<ul class="mt-5 line-clamp-3 text-sm leading-6 text-gray-600">
							{% for binome in group.binomials %}
								<li></li>
							{% else %}
								<p>Pas de binôme inscrit</p>
							{% endfor %}
						</ul>
					</div>
					<div class="relative mt-8 flex items-center gap-x-4">
						<div class="text-sm leading-6">
							<p class="text-gray-900">
								Nombres de place {{ group.maxPersonByGroup }}
							</p>
						</div>
					</div>
				</article>
				{% else %}
					<div class="flex-auto">Pas de groupe crée pour le moment</div>
				{% endfor %}
				<div class="flex items-center text-sm bg-gray-400/40 text-gray-100 font-medium rounded-md capitalize
				sm:mr-6 hover:bg-gray-500/45 hover:text-gray-50">
					<a href="{{ path('app_new_group', { process: parcour.id }) }}" class="m-auto">
						<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
						     stroke="currentColor" class="w-24 h-24 m-auto">
							<path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
						</svg>
					</a>
				</div>
		</div>
		
		<h2 class="h4 mt-10">Photos du parcours</h2>
		<div class="grid grid-cols-1 iphone:grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-6 my-8">
			<div class="flex items-center text-sm bg-gray-400/40 text-gray-100 font-medium rounded-md capitalize
			sm:mr-6 hover:bg-gray-500/45 hover:text-gray-50">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
				     stroke="currentColor" class="w-24 h-24 m-auto">
					<path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
				</svg>
			
			</div>
			{% for photos in parcour.photos %}
				{{ dump(photos) }}
			{% else %}
				<p>Pas de photo pour le moment</p>
			{% endfor %}
		</div>
	</div>
</section>
{% endblock %}
